<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title></title>
    <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono" rel="stylesheet">
    <link rel="stylesheet" href="/content/bootstrap.min.css" media="screen" title="no title">
    <link rel="stylesheet" href="/content/style.css" media="screen" title="no title">
    <script type="text/javascript" src="/app/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.4.0/firebase.js"></script>
    <!-- AngularJS -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <!-- Firebase -->
    <script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>
    <!-- AngularFire -->
    <script src="https://cdn.firebase.com/libs/angularfire/1.2.0/angularfire.min.js"></script>
</head>

<body ng-app="nobase">
    <header class="hero col-md-12">
        <h1 class="heading"> Search in the knowledge base</h1>
        <div class="search-wrapper">
            <form class="" action="/" method="post">
                <input id="search" type="text" name="name" placeholder="Search">
                <button id="searchButton" type="button" name="button">Search</button>
            </form>
        </div>
    </header>

    <div class="container">
        <div class="" ng-controller="DocsController">
            <ul>
                <li ng-repeat="message in messages">{{ message.text }}</li>
            </ul>
        </div>
    </div>
    <script type="text/javascript" src="/app/app.js"></script>
    <script type="text/javascript">
        // Initialize Firebase
        var config = {
            apiKey: "OAC2N30CkXQB0JaT9cu0FR3nltzgvZ8vUxau5Y7B",
            authDomain: "zebraz.firebaseapp.com",
            databaseURL: "https://zebraz.firebaseio.com",
        };
        firebase.initializeApp(config);
    </script>
    <script type="text/javascript">
        $(function() {
            var header = $("header.hero");
            $("#search").focusin(function() {
                // Expand header
                header.addClass('expand');
            }).focusout(function() {
                // Collapse header
                header.removeClass('expand');
            });
            // search
            $("#searchButton").on('click', function() {
                console.log("get firebase data");
                var docs = firebase.database().ref('docs'),
                    data;
                docs.on('value', function(snapshot) {
                    data = snapshot.val();
                });
                $(".container ul").append("<li>" + data[0].username + "</li>");
            });
            // Write post
            // var i = 0;
            // 
            // firebase.database().ref('docs/' + i).set({
            //     username: "nate"
            // });
        });
    </script>
</body>

</html>